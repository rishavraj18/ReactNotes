## Igniting React App

. In last class - Created Basic React App 

. Today, production ready React App - From scratch without using create react-app
 
. to Ignite our app  - Bundler eg : vite,parcel,webpack

. In create react-app, they use webpack bundler 

. Bundler is package/module of javascript code 

. to have a package in code -> we need Package Manager (eg : npm, yarn)

```
npm init -> create package.json -> initialise our repo with npm 
npm init -y -> to skip configuration
```

. why npm ? 
helper packages -> React app is powered by a lot of packages for bundling, optimizing, minifying 
maven : java :: rnpm : react 

`Parcel` : 

```
npm install package-name -> to install a package named package-name  & node modules (helper functions )is created 

npm install -d package-name -> -D means dev dependency or --save-dev

```

package-lock.json is created and parcel code is updated in node modules 

parcel is in dev dependencies of package-lock  - parcel is needed in dev environment 

if update happens, package.json is updated but package-lock.json is not updated 

package-lock.json - dont ignore in git 
but put node modules in .gitignore

if we have package-lock.json -> we can regenerate node modules 

react cdn - is not a good way 
Good way -> in server thrugh node modules 

npm install react -> in global dependencies not dev dependencies 

npx parcel index.html -> Execute using npm with index.html as entry point -> Creates local server 

Parcel gives us this server

Error : React is defined because we removed cdn link. Instead of that, we have to use import since this time we are using node modules - npm

Error : Browser doesnot understand import -> we have to inform its modules, use type="module" in script tag

Warning : React DOM  -> createRoot is not found -> use  react-dom/client 

Live Server -> Auto refresh  -> Hot Module Replacement (HMR) 
-> Parcel does it for us using File Watcher Algorithm (written in c++)
Parcel.cache -> uses this space for doing all the HMR, minify and other stuffs 
dist folder -> minified code in dist 
npx parcel build index.html -> production ready build is created by parcel inside dist folder and has only 3 files : css, html and js file containing 
all the code including react code 

Parcel Functionalities :
 PARCEL performs below operation very fast(below 1s in dev build and below 5s in prod build)
Parcel is orchestrating/leveraging task to packages in node_modules
1) HMR (Hot Module Replacement) => FILE WATCHING ALGO run behind the scene
2) BUNDLING
3) MINIFY
4) CLEAN UP CODE (e.g. removes console.log)
5) Manages DEV and PROD build superfast
6) IMAGE OPTIMIZATION
7) CACHING (while development)
8) COMPRESSSION
9) RENAME VARIABLES(short)
10) COMPATBLE (with older browser versions)
11) HTTPS (ON DEV BUILD)
12) MANAGES PORT No.
13) CONSISTENT HASHING ALGORITHM
14) ZERO CONFIG BUNDLER 


we should put .parcel-cache in gitignore -> anything which can be autogenerated in server can be put in gitignore 

Initial dev build -> longer time (500ms) -> for next build -> takes less time 5ms using caching

When using parcel, we give entry point in command so we can remove main: app.js from package.json 


Transitive dependencies -> dependencies of dependencies Eg: Our App is dependent on Parcel which is again dependent on other dependencies (dependency Tree)

browsersList -> cross browser compatibility for older versions of browsers 

Summary Steps : 
1. npm init 
2. npm install -D parcel 
3. npm install react 
4. npm install react-dom
5. npx parcel index.html or npx parcel build index.html
6. import React from 'react'; in App.js
7. import ReactDOM from 'react-dom/client'; in App.js 
8. use type="module" for index.html
9. Remove main : app.js from package.json
10. Write browserslist in package.json 

"browsersList" : [ "last 2 versions"]

#install nodejs using exe
node -v
npm -v

#We need bundler to package all js file to one file.
npm init -y
-> Create package.json : It makes sure node_modules is in place on server. node_modules should be kept in gitignore.

#Install parcel
npm install -D parcel (-D for dev dependencies)
-> Create package-lock.json and node_modules: It tells which version is used in production. It should not be added to gitignore.


*** TRANSITIVE DEPENDENCIES -> We have our package manager which handles and take care of transitive dependencies.

#symbols
~ => tilde
^ => caret

~version “Approximately equivalent to version”, will update you to all future patch versions, without incrementing the minor version. 
e.g. ~1.2.3 will use releases from 1.2.3 to <1.3.0.

^version “Compatible with version”, will update you to all future minor/patch versions, without incrementing the major version. 
e.g. ^1.2.3 will use releases from 1.2.3 to <2.0.0.

# To Ignite our app we use parcel
npx parcel index.html/index.js (npx => execute using npm , index.html/index.js => entry point to our app) 
=> it results in server running at localhost
npx parcel index.html --https (to run on https)

# Import: to use packages from node_modules 
import React from "react"; (without D)

# D and without D difference in package.json
"devDependencies": {
    "parcel": "^2.10.2"
  },
  "dependencies": {
    "react": "^18.2.0"
  }

# Get react install in our app and to place it in node module and package.json
npm install react

# React DOM
npm i react-dom

# run react app on localhost using parcel 
npx parcel index.js/index.html => creates a development build of our project and serves on local host
after updating script tag as below type="module" since browser don't know it is js or package:)
<script type="module" src="App.js"></script>

# ask parcel to make a production build
npx parcel build index.js/index.html
It minifies our file as well.
Parcel will push all the production file in dist folder.

# HMR(Hot module reload) 
It is done by parcel.
Parcel keeps track of changes we made using file watchers algorithm.
File watchers algorithm is written in c++.

#node_modules
created by npm install
node_modules: It tells which version is used in production. It should not be added to gitignore.
We should keep node_modules in gitignore

# .parcel-cache
It is created by default
It takes some space to perform some operation for use parcel.
We should keep .parcel-cache in gitignore

# dist
created by npx parcel build index.html cmd
Parcel bundle and minified our PROD build code and place it in dist.

It creates 3 file
dist\index.html               
dist\index.96f0bad0.css        
dist\index.652c48bd.js -> This is code which we imported by React and ReactDOM

## Issues:

One issue I faced while setting up parcel is, though the server was succesfully started,I was getting 404 Page not found when run the application in browser. We were not able to find the root cause for long time. Finally, my npm was outdated and it did not throw any error during build. After updating the npm, it worked. 
